{{ define "main" }}

<!-- Page Header -->
<section class="hero" style="padding: var(--space-12) 0">
  <div class="hero-grid"></div>
  <div class="container">
    <div class="hero-content">
      <a href="/community" class="hero-badge" style="text-decoration: none">
        <i class="ri-arrow-left-line"></i>
        Community
      </a>
      <h1 class="hero-title" style="font-size: var(--text-4xl)">
        {{ .Title }}
      </h1>
      {{ with .Description }}
      <p class="hero-description">{{ . }}</p>
      {{ end }}
    </div>
  </div>
</section>

<!-- Content Section -->
<section class="section" style="padding-top: 0">
  <div class="container">
    <div class="content-layout">
      <!-- Sidebar -->
      <aside class="sidebar">
        <div class="sidebar-inner">
          <nav class="sidebar-nav">
            <h4 class="sidebar-title">Community</h4>
            <ul class="sidebar-list">
              {{ range .Parent.Pages.ByWeight }}
              <li class="sidebar-list-item">
                <a
                  href="{{ .Permalink }}"
                  class="sidebar-link{{ if eq $.RelPermalink .RelPermalink }} active{{ end }}"
                >
                  {{ .Title }}
                </a>
              </li>
              {{ end }}
            </ul>
          </nav>


        </div>
      </aside>

      <!-- Main Content -->
      <div class="main-content">
        <article class="article-content">
          {{ .Content }}

          <!-- Maintainers Grid -->
          <div
            style="
              display: grid;
              grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
              gap: var(--space-6);
              margin-top: var(--space-8);
            "
          >
            {{ range sort $.Site.Data.maintainers "accountName" }} {{ $data :=
            dict }} {{ $path := printf "https://api.github.com/users/%s"
            .accountName }} {{ with resources.GetRemote $path }} {{ with
            .Content | transform.Unmarshal }} {{ $data = . }} {{ end }} {{ else
            }} {{ errorf "Unable to get global resource %q" $path }} {{ end }}

            <div
              class="card"
              style="
                background: var(--bg-secondary);
                border-radius: var(--radius-xl);
                overflow: hidden;
                border: 1px solid var(--border-primary);
              "
            >
              <!-- Card Header -->
              <div
                style="
                  padding: var(--space-4);
                  background: var(--bg-tertiary);
                  text-align: center;
                  border-bottom: 1px solid var(--border-primary);
                "
              >
                <a
                  href="https://github.com/{{ .accountName }}"
                  target="_blank"
                  style="
                    text-decoration: none;
                    color: var(--text-primary);
                    font-weight: 600;
                  "
                >
                  {{ with $data.name }} {{ $data.name }} {{ else }} {{
                  $data.login }} {{ end }}
                </a>
                {{ with $data.company }}
                <br />
                <span
                  style="
                    display: inline-block;
                    margin-top: var(--space-2);
                    padding: var(--space-1) var(--space-2);
                    background: var(--bg-primary);
                    border-radius: var(--radius-full);
                    font-size: var(--text-xs);
                    color: var(--text-secondary);
                  "
                >
                  {{ $data.company }}
                </span>
                {{ end }}
              </div>

              <!-- Card Body -->
              <div style="padding: var(--space-4); text-align: center">
                <a href="https://github.com/{{ .accountName }}" target="_blank">
                  <img
                    src="{{ $data.avatar_url }}"
                    alt="{{ $data.login }}"
                    style="
                      width: 80px;
                      height: 80px;
                      border-radius: 50%;
                      margin: 0 auto var(--space-3);
                      display: block;
                      border: 3px solid var(--border-primary);
                    "
                  />
                </a>
                {{ with $data.location }}
                <p
                  style="
                    font-size: var(--text-sm);
                    color: var(--text-tertiary);
                    margin-bottom: var(--space-2);
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    gap: var(--space-1);
                  "
                >
                  <i class="ri-map-pin-line"></i>
                  {{ $data.location }}
                </p>
                {{ end }} {{ with $data.bio }}
                <p
                  style="
                    font-size: var(--text-sm);
                    color: var(--text-secondary);
                    margin-top: var(--space-2);
                  "
                >
                  {{ $data.bio | safeHTML }}
                </p>
                {{ end }}
              </div>

              <!-- Card Footer -->
              <div
                style="
                  padding: var(--space-4);
                  background: var(--bg-tertiary);
                  border-top: 1px solid var(--border-primary);
                "
              >
                <p
                  style="
                    font-size: var(--text-xs);
                    color: var(--text-tertiary);
                    margin-bottom: var(--space-2);
                  "
                >
                  Modules:
                </p>
                <div
                  style="display: flex; flex-wrap: wrap; gap: var(--space-1)"
                >
                  {{ range sort .modules "repository" }}
                  <a
                    href="https://github.com/{{ .organization }}/{{ .repository }}"
                    target="_blank"
                    style="
                      display: inline-block;
                      padding: var(--space-1) var(--space-2);
                      background: var(--accent-primary);
                      color: white;
                      border-radius: var(--radius-full);
                      font-size: var(--text-xs);
                      text-decoration: none;
                    "
                  >
                    {{ .repository }}
                  </a>
                  {{ end }}
                </div>
              </div>
            </div>
            {{ end }}
          </div>

          <p
            style="
              margin-top: var(--space-8);
              padding-top: var(--space-4);
              border-top: 1px solid var(--border-primary);
              font-size: var(--text-sm);
              color: var(--text-tertiary);
            "
          >
            Updated on {{ .PublishDate.Format "02 Jan 2006" }}
          </p>
        </article>
      </div>
    </div>
  </div>
</section>

{{ end }}
